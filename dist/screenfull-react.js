"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var React=_interopDefault(require("react")),ReactDOM=_interopDefault(require("react-dom"));function createCommonjsModule(e,n){return e(n={exports:{}},n.exports),n.exports}require("prop-types");var screenfull=createCommonjsModule(function(e){var n,r,l,t,o,u;n="undefined"!=typeof window&&void 0!==window.document?window.document:{},r=e.exports,l="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,t=function(){for(var e,r=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=0,t=r.length,o={};l<t;l++)if((e=r[l])&&e[1]in n){for(l=0;l<e.length;l++)o[r[0][l]]=e[l];return o}return!1}(),o={change:t.fullscreenchange,error:t.fullscreenerror},u={request:function(e){var r=t.requestFullscreen;e=e||n.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?e[r]():e[r](l&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){n[t.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,r){var l=o[e];l&&n.addEventListener(l,r,!1)},off:function(e,r){var l=o[e];l&&n.removeEventListener(l,r,!1)},raw:t},t?(Object.defineProperties(u,{isFullscreen:{get:function(){return Boolean(n[t.fullscreenElement])}},element:{enumerable:!0,get:function(){return n[t.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(n[t.fullscreenEnabled])}}}),r?e.exports=u:window.screenfull=u):r?e.exports=!1:window.screenfull=!1}),classCallCheck=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,n){for(var r=0;r<n.length;r++){var l=n[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(n,r,l){return r&&e(n.prototype,r),l&&e(n,l),n}}(),inherits=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)},possibleConstructorReturn=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n},Screenfull=function(e){function n(e){classCallCheck(this,n);var r=possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return r.getNode=function(){var e=r.props.scrollContainerRef;return e?ReactDOM.findDOMNode(e):"undefined"!=typeof document&&document.body},r.getFullScreenNode=function(){return document.documentElement||document.body},r.handleScroll=function(e){var n=e.currentTarget.scrollTop,l="down";0!==r.scroll&&n<r.scroll&&(l="up"),r.scroll=n,"up"===l&&screenfull.isFullscreen?screenfull.exit():"down"!==l||screenfull.isFullscreen||screenfull.request(r.getFullScreenNode())},r.scroll=0,r}return inherits(n,e),createClass(n,[{key:"componentDidMount",value:function(){var e=this.props,n=e.forceFullScreen;if(!e.mobileOnly||this.isMobile())if(n)screenfull.enabled&&screenfull.request(this.getFullScreenNode());else{var r=this.getNode();r&&screenfull.enabled&&r.addEventListener("scroll",this.handleScroll,{passive:!0},!0)}}},{key:"componentWillUnmount",value:function(){var e=this.props,n=e.forceFullScreen;if((!e.mobileOnly||this.isMobile())&&(screenfull.enabled&&screenfull.exit(),!n)){var r=this.getNode();r&&screenfull.enabled&&r.removeEventListener("scroll",this.handleScroll)}}},{key:"isMobile",value:function(){var e=this.props.maxPixelsForMobile;return"undefined"!=typeof window&&window.innerWidth<=e}},{key:"render",value:function(){return null}}]),n}(React.PureComponent);Screenfull.defaultProps={scrollContainerRef:null,forceFullScreen:!1,mobileOnly:!0,maxPixelsForMobile:768},Screenfull.propTypes={},exports.default=Screenfull;
//# sourceMappingURL=screenfull-react.js.map
